//! moment.js
//! version : 2.10.3
//! authors : Tim Wood, Iskren Chernev, Moment.js contributors
//! license : MIT
//! momentjs.com

/*
  backbone.paginator
  http://github.com/backbone-paginator/backbone.paginator

  Copyright (c) 2016 Jimmy Yuen Ho Wong and contributors

  @module
  @license MIT
*/

!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof RequireJS.define&&RequireJS.define.amd?RequireJS.define("moment",t):e.moment=t()}(this,function(){function e(){return Ti.apply(null,arguments)}function t(e){Ti=e}function n(e){return"[object Array]"===Object.prototype.toString.call(e)}function i(e){return e instanceof Date||"[object Date]"===Object.prototype.toString.call(e)}function s(e,t){var n,i=[];for(n=0;n<e.length;++n)i.push(t(e[n],n));return i}function r(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function a(e,t){for(var n in t)r(t,n)&&(e[n]=t[n]);return r(t,"toString")&&(e.toString=t.toString),r(t,"valueOf")&&(e.valueOf=t.valueOf),e}function o(e,t,n,i){return Dt(e,t,n,i,!0).utc()}function l(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1}}function u(e){return null==e._pf&&(e._pf=l()),e._pf}function c(e){if(null==e._isValid){var t=u(e);e._isValid=!isNaN(e._d.getTime())&&t.overflow<0&&!t.empty&&!t.invalidMonth&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated,e._strict&&(e._isValid=e._isValid&&0===t.charsLeftOver&&0===t.unusedTokens.length&&void 0===t.bigHour)}return e._isValid}function d(e){var t=o(0/0);return null!=e?a(u(t),e):u(t).userInvalidated=!0,t}function h(e,t){var n,i,s;if("undefined"!=typeof t._isAMomentObject&&(e._isAMomentObject=t._isAMomentObject),"undefined"!=typeof t._i&&(e._i=t._i),"undefined"!=typeof t._f&&(e._f=t._f),"undefined"!=typeof t._l&&(e._l=t._l),"undefined"!=typeof t._strict&&(e._strict=t._strict),"undefined"!=typeof t._tzm&&(e._tzm=t._tzm),"undefined"!=typeof t._isUTC&&(e._isUTC=t._isUTC),"undefined"!=typeof t._offset&&(e._offset=t._offset),"undefined"!=typeof t._pf&&(e._pf=u(t)),"undefined"!=typeof t._locale&&(e._locale=t._locale),Oi.length>0)for(n in Oi)i=Oi[n],s=t[i],"undefined"!=typeof s&&(e[i]=s);return e}function f(t){h(this,t),this._d=new Date(+t._d),Ri===!1&&(Ri=!0,e.updateOffset(this),Ri=!1)}function m(e){return e instanceof f||null!=e&&null!=e._isAMomentObject}function g(e){var t=+e,n=0;return 0!==t&&isFinite(t)&&(n=t>=0?Math.floor(t):Math.ceil(t)),n}function p(e,t,n){var i,s=Math.min(e.length,t.length),r=Math.abs(e.length-t.length),a=0;for(i=0;s>i;i++)(n&&e[i]!==t[i]||!n&&g(e[i])!==g(t[i]))&&a++;return a+r}function _(){}function y(e){return e?e.toLowerCase().replace("_","-"):e}function v(e){for(var t,n,i,s,r=0;r<e.length;){for(s=y(e[r]).split("-"),t=s.length,n=y(e[r+1]),n=n?n.split("-"):null;t>0;){if(i=k(s.slice(0,t).join("-")))return i;if(n&&n.length>=t&&p(s,n,!0)>=t-1)break;t--}r++}return null}function k(e){var t=null;if(!Ui[e]&&"undefined"!=typeof module&&module&&module.exports)try{t=Ci._abbr,require("./locale/"+e),b(t)}catch(n){}return Ui[e]}function b(e,t){var n;return e&&(n="undefined"==typeof t?S(e):w(e,t),n&&(Ci=n)),Ci._abbr}function w(e,t){return null!==t?(t.abbr=e,Ui[e]||(Ui[e]=new _),Ui[e].set(t),b(e),Ui[e]):(delete Ui[e],null)}function S(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return Ci;if(!n(e)){if(t=k(e))return t;e=[e]}return v(e)}function P(e,t){var n=e.toLowerCase();qi[n]=qi[n+"s"]=qi[t]=e}function D(e){return"string"==typeof e?qi[e]||qi[e.toLowerCase()]:void 0}function M(e){var t,n,i={};for(n in e)r(e,n)&&(t=D(n),t&&(i[t]=e[n]));return i}function Y(t,n){return function(i){return null!=i?(F(this,t,i),e.updateOffset(this,n),this):x(this,t)}}function x(e,t){return e._d["get"+(e._isUTC?"UTC":"")+t]()}function F(e,t,n){return e._d["set"+(e._isUTC?"UTC":"")+t](n)}function T(e,t){var n;if("object"==typeof e)for(n in e)this.set(n,e[n]);else if(e=D(e),"function"==typeof this[e])return this[e](t);return this}function C(e,t,n){for(var i=""+Math.abs(e),s=e>=0;i.length<t;)i="0"+i;return(s?n?"+":"":"-")+i}function O(e,t,n,i){var s=i;"string"==typeof i&&(s=function(){return this[i]()}),e&&(Ei[e]=s),t&&(Ei[t[0]]=function(){return C(s.apply(this,arguments),t[1],t[2])}),n&&(Ei[n]=function(){return this.localeData().ordinal(s.apply(this,arguments),e)})}function R(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function U(e){var t,n,i=e.match(Ii);for(t=0,n=i.length;n>t;t++)i[t]=Ei[i[t]]?Ei[i[t]]:R(i[t]);return function(s){var r="";for(t=0;n>t;t++)r+=i[t]instanceof Function?i[t].call(s,e):i[t];return r}}function q(e,t){return e.isValid()?(t=I(t,e.localeData()),Wi[t]||(Wi[t]=U(t)),Wi[t](e)):e.localeData().invalidDate()}function I(e,t){function n(e){return t.longDateFormat(e)||e}var i=5;for(Gi.lastIndex=0;i>=0&&Gi.test(e);)e=e.replace(Gi,n),Gi.lastIndex=0,i-=1;return e}function G(e,t,n){es[e]="function"==typeof t?t:function(e){return e&&n?n:t}}function W(e,t){return r(es,e)?es[e](t._strict,t._locale):new RegExp(E(e))}function E(e){return e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,t,n,i,s){return t||n||i||s}).replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function L(e,t){var n,i=t;for("string"==typeof e&&(e=[e]),"number"==typeof t&&(i=function(e,n){n[t]=g(e)}),n=0;n<e.length;n++)ts[e[n]]=i}function N(e,t){L(e,function(e,n,i,s){i._w=i._w||{},t(e,i._w,i,s)})}function z(e,t,n){null!=t&&r(ts,e)&&ts[e](t,n._a,n,e)}function j(e,t){return new Date(Date.UTC(e,t+1,0)).getUTCDate()}function H(e){return this._months[e.month()]}function A(e){return this._monthsShort[e.month()]}function V(e,t,n){var i,s,r;for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),i=0;12>i;i++){if(s=o([2e3,i]),n&&!this._longMonthsParse[i]&&(this._longMonthsParse[i]=new RegExp("^"+this.months(s,"").replace(".","")+"$","i"),this._shortMonthsParse[i]=new RegExp("^"+this.monthsShort(s,"").replace(".","")+"$","i")),n||this._monthsParse[i]||(r="^"+this.months(s,"")+"|^"+this.monthsShort(s,""),this._monthsParse[i]=new RegExp(r.replace(".",""),"i")),n&&"MMMM"===t&&this._longMonthsParse[i].test(e))return i;if(n&&"MMM"===t&&this._shortMonthsParse[i].test(e))return i;if(!n&&this._monthsParse[i].test(e))return i}}function J(e,t){var n;return"string"==typeof t&&(t=e.localeData().monthsParse(t),"number"!=typeof t)?e:(n=Math.min(e.date(),j(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,n),e)}function $(t){return null!=t?(J(this,t),e.updateOffset(this,!0),this):x(this,"Month")}function B(){return j(this.year(),this.month())}function Z(e){var t,n=e._a;return n&&-2===u(e).overflow&&(t=n[is]<0||n[is]>11?is:n[ss]<1||n[ss]>j(n[ns],n[is])?ss:n[rs]<0||n[rs]>24||24===n[rs]&&(0!==n[as]||0!==n[os]||0!==n[ls])?rs:n[as]<0||n[as]>59?as:n[os]<0||n[os]>59?os:n[ls]<0||n[ls]>999?ls:-1,u(e)._overflowDayOfYear&&(ns>t||t>ss)&&(t=ss),u(e).overflow=t),e}function K(t){e.suppressDeprecationWarnings===!1&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+t)}function Q(e,t){var n=!0,i=e+"\n"+(new Error).stack;return a(function(){return n&&(K(i),n=!1),t.apply(this,arguments)},t)}function X(e,t){ds[e]||(K(t),ds[e]=!0)}function et(e){var t,n,i=e._i,s=hs.exec(i);if(s){for(u(e).iso=!0,t=0,n=fs.length;n>t;t++)if(fs[t][1].exec(i)){e._f=fs[t][0]+(s[6]||" ");break}for(t=0,n=ms.length;n>t;t++)if(ms[t][1].exec(i)){e._f+=ms[t][0];break}i.match(Ki)&&(e._f+="Z"),vt(e)}else e._isValid=!1}function tt(t){var n=gs.exec(t._i);return null!==n?void(t._d=new Date(+n[1])):(et(t),void(t._isValid===!1&&(delete t._isValid,e.createFromInputFallback(t))))}function nt(e,t,n,i,s,r,a){var o=new Date(e,t,n,i,s,r,a);return 1970>e&&o.setFullYear(e),o}function it(e){var t=new Date(Date.UTC.apply(null,arguments));return 1970>e&&t.setUTCFullYear(e),t}function st(e){return rt(e)?366:365}function rt(e){return e%4===0&&e%100!==0||e%400===0}function at(){return rt(this.year())}function ot(e,t,n){var i,s=n-t,r=n-e.day();return r>s&&(r-=7),s-7>r&&(r+=7),i=Mt(e).add(r,"d"),{week:Math.ceil(i.dayOfYear()/7),year:i.year()}}function lt(e){return ot(e,this._week.dow,this._week.doy).week}function ut(){return this._week.dow}function ct(){return this._week.doy}function dt(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")}function ht(e){var t=ot(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")}function ft(e,t,n,i,s){var r,a,o=it(e,0,1).getUTCDay();return o=0===o?7:o,n=null!=n?n:s,r=s-o+(o>i?7:0)-(s>o?7:0),a=7*(t-1)+(n-s)+r+1,{year:a>0?e:e-1,dayOfYear:a>0?a:st(e-1)+a}}function mt(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")}function gt(e,t,n){return null!=e?e:null!=t?t:n}function pt(e){var t=new Date;return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}function _t(e){var t,n,i,s,r=[];if(!e._d){for(i=pt(e),e._w&&null==e._a[ss]&&null==e._a[is]&&yt(e),e._dayOfYear&&(s=gt(e._a[ns],i[ns]),e._dayOfYear>st(s)&&(u(e)._overflowDayOfYear=!0),n=it(s,0,e._dayOfYear),e._a[is]=n.getUTCMonth(),e._a[ss]=n.getUTCDate()),t=0;3>t&&null==e._a[t];++t)e._a[t]=r[t]=i[t];for(;7>t;t++)e._a[t]=r[t]=null==e._a[t]?2===t?1:0:e._a[t];24===e._a[rs]&&0===e._a[as]&&0===e._a[os]&&0===e._a[ls]&&(e._nextDay=!0,e._a[rs]=0),e._d=(e._useUTC?it:nt).apply(null,r),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[rs]=24)}}function yt(e){var t,n,i,s,r,a,o;t=e._w,null!=t.GG||null!=t.W||null!=t.E?(r=1,a=4,n=gt(t.GG,e._a[ns],ot(Mt(),1,4).year),i=gt(t.W,1),s=gt(t.E,1)):(r=e._locale._week.dow,a=e._locale._week.doy,n=gt(t.gg,e._a[ns],ot(Mt(),r,a).year),i=gt(t.w,1),null!=t.d?(s=t.d,r>s&&++i):s=null!=t.e?t.e+r:r),o=ft(n,i,s,a,r),e._a[ns]=o.year,e._dayOfYear=o.dayOfYear}function vt(t){if(t._f===e.ISO_8601)return void et(t);t._a=[],u(t).empty=!0;var n,i,s,r,a,o=""+t._i,l=o.length,c=0;for(s=I(t._f,t._locale).match(Ii)||[],n=0;n<s.length;n++)r=s[n],i=(o.match(W(r,t))||[])[0],i&&(a=o.substr(0,o.indexOf(i)),a.length>0&&u(t).unusedInput.push(a),o=o.slice(o.indexOf(i)+i.length),c+=i.length),Ei[r]?(i?u(t).empty=!1:u(t).unusedTokens.push(r),z(r,i,t)):t._strict&&!i&&u(t).unusedTokens.push(r);u(t).charsLeftOver=l-c,o.length>0&&u(t).unusedInput.push(o),u(t).bigHour===!0&&t._a[rs]<=12&&t._a[rs]>0&&(u(t).bigHour=void 0),t._a[rs]=kt(t._locale,t._a[rs],t._meridiem),_t(t),Z(t)}function kt(e,t,n){var i;return null==n?t:null!=e.meridiemHour?e.meridiemHour(t,n):null!=e.isPM?(i=e.isPM(n),i&&12>t&&(t+=12),i||12!==t||(t=0),t):t}function bt(e){var t,n,i,s,r;if(0===e._f.length)return u(e).invalidFormat=!0,void(e._d=new Date(0/0));for(s=0;s<e._f.length;s++)r=0,t=h({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._f=e._f[s],vt(t),c(t)&&(r+=u(t).charsLeftOver,r+=10*u(t).unusedTokens.length,u(t).score=r,(null==i||i>r)&&(i=r,n=t));a(e,n||t)}function wt(e){if(!e._d){var t=M(e._i);e._a=[t.year,t.month,t.day||t.date,t.hour,t.minute,t.second,t.millisecond],_t(e)}}function St(e){var t,s=e._i,r=e._f;return e._locale=e._locale||S(e._l),null===s||void 0===r&&""===s?d({nullInput:!0}):("string"==typeof s&&(e._i=s=e._locale.preparse(s)),m(s)?new f(Z(s)):(n(r)?bt(e):r?vt(e):i(s)?e._d=s:Pt(e),t=new f(Z(e)),t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t))}function Pt(t){var r=t._i;void 0===r?t._d=new Date:i(r)?t._d=new Date(+r):"string"==typeof r?tt(t):n(r)?(t._a=s(r.slice(0),function(e){return parseInt(e,10)}),_t(t)):"object"==typeof r?wt(t):"number"==typeof r?t._d=new Date(r):e.createFromInputFallback(t)}function Dt(e,t,n,i,s){var r={};return"boolean"==typeof n&&(i=n,n=void 0),r._isAMomentObject=!0,r._useUTC=r._isUTC=s,r._l=n,r._i=e,r._f=t,r._strict=i,St(r)}function Mt(e,t,n,i){return Dt(e,t,n,i,!1)}function Yt(e,t){var i,s;if(1===t.length&&n(t[0])&&(t=t[0]),!t.length)return Mt();for(i=t[0],s=1;s<t.length;++s)t[s][e](i)&&(i=t[s]);return i}function xt(){var e=[].slice.call(arguments,0);return Yt("isBefore",e)}function Ft(){var e=[].slice.call(arguments,0);return Yt("isAfter",e)}function Tt(e){var t=M(e),n=t.year||0,i=t.quarter||0,s=t.month||0,r=t.week||0,a=t.day||0,o=t.hour||0,l=t.minute||0,u=t.second||0,c=t.millisecond||0;this._milliseconds=+c+1e3*u+6e4*l+36e5*o,this._days=+a+7*r,this._months=+s+3*i+12*n,this._data={},this._locale=S(),this._bubble()}function Ct(e){return e instanceof Tt}function Ot(e,t){O(e,0,0,function(){var e=this.utcOffset(),n="+";return 0>e&&(e=-e,n="-"),n+C(~~(e/60),2)+t+C(~~e%60,2)})}function Rt(e){var t=(e||"").match(Ki)||[],n=t[t.length-1]||[],i=(n+"").match(ks)||["-",0,0],s=+(60*i[1])+g(i[2]);return"+"===i[0]?s:-s}function Ut(t,n){var s,r;return n._isUTC?(s=n.clone(),r=(m(t)||i(t)?+t:+Mt(t))-+s,s._d.setTime(+s._d+r),e.updateOffset(s,!1),s):Mt(t).local()}function qt(e){return 15*-Math.round(e._d.getTimezoneOffset()/15)}function It(t,n){var i,s=this._offset||0;return null!=t?("string"==typeof t&&(t=Rt(t)),Math.abs(t)<16&&(t=60*t),!this._isUTC&&n&&(i=qt(this)),this._offset=t,this._isUTC=!0,null!=i&&this.add(i,"m"),s!==t&&(!n||this._changeInProgress?Qt(this,Jt(t-s,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,e.updateOffset(this,!0),this._changeInProgress=null)),this):this._isUTC?s:qt(this)}function Gt(e,t){return null!=e?("string"!=typeof e&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}function Wt(e){return this.utcOffset(0,e)}function Et(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(qt(this),"m")),this}function Lt(){return this._tzm?this.utcOffset(this._tzm):"string"==typeof this._i&&this.utcOffset(Rt(this._i)),this}function Nt(e){return e=e?Mt(e).utcOffset():0,(this.utcOffset()-e)%60===0}function zt(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function jt(){if(this._a){var e=this._isUTC?o(this._a):Mt(this._a);return this.isValid()&&p(this._a,e.toArray())>0}return!1}function Ht(){return!this._isUTC}function At(){return this._isUTC}function Vt(){return this._isUTC&&0===this._offset}function Jt(e,t){var n,i,s,a=e,o=null;return Ct(e)?a={ms:e._milliseconds,d:e._days,M:e._months}:"number"==typeof e?(a={},t?a[t]=e:a.milliseconds=e):(o=bs.exec(e))?(n="-"===o[1]?-1:1,a={y:0,d:g(o[ss])*n,h:g(o[rs])*n,m:g(o[as])*n,s:g(o[os])*n,ms:g(o[ls])*n}):(o=ws.exec(e))?(n="-"===o[1]?-1:1,a={y:$t(o[2],n),M:$t(o[3],n),d:$t(o[4],n),h:$t(o[5],n),m:$t(o[6],n),s:$t(o[7],n),w:$t(o[8],n)}):null==a?a={}:"object"==typeof a&&("from"in a||"to"in a)&&(s=Zt(Mt(a.from),Mt(a.to)),a={},a.ms=s.milliseconds,a.M=s.months),i=new Tt(a),Ct(e)&&r(e,"_locale")&&(i._locale=e._locale),i}function $t(e,t){var n=e&&parseFloat(e.replace(",","."));return(isNaN(n)?0:n)*t}function Bt(e,t){var n={milliseconds:0,months:0};return n.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,"M"),n}function Zt(e,t){var n;return t=Ut(t,e),e.isBefore(t)?n=Bt(e,t):(n=Bt(t,e),n.milliseconds=-n.milliseconds,n.months=-n.months),n}function Kt(e,t){return function(n,i){var s,r;return null===i||isNaN(+i)||(X(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period)."),r=n,n=i,i=r),n="string"==typeof n?+n:n,s=Jt(n,i),Qt(this,s,e),this}}function Qt(t,n,i,s){var r=n._milliseconds,a=n._days,o=n._months;s=null==s?!0:s,r&&t._d.setTime(+t._d+r*i),a&&F(t,"Date",x(t,"Date")+a*i),o&&J(t,x(t,"Month")+o*i),s&&e.updateOffset(t,a||o)}function Xt(e){var t=e||Mt(),n=Ut(t,this).startOf("day"),i=this.diff(n,"days",!0),s=-6>i?"sameElse":-1>i?"lastWeek":0>i?"lastDay":1>i?"sameDay":2>i?"nextDay":7>i?"nextWeek":"sameElse";return this.format(this.localeData().calendar(s,this,Mt(t)))}function en(){return new f(this)}function tn(e,t){var n;return t=D("undefined"!=typeof t?t:"millisecond"),"millisecond"===t?(e=m(e)?e:Mt(e),+this>+e):(n=m(e)?+e:+Mt(e),n<+this.clone().startOf(t))}function nn(e,t){var n;return t=D("undefined"!=typeof t?t:"millisecond"),"millisecond"===t?(e=m(e)?e:Mt(e),+e>+this):(n=m(e)?+e:+Mt(e),+this.clone().endOf(t)<n)}function sn(e,t,n){return this.isAfter(e,n)&&this.isBefore(t,n)}function rn(e,t){var n;return t=D(t||"millisecond"),"millisecond"===t?(e=m(e)?e:Mt(e),+this===+e):(n=+Mt(e),+this.clone().startOf(t)<=n&&n<=+this.clone().endOf(t))}function an(e){return 0>e?Math.ceil(e):Math.floor(e)}function on(e,t,n){var i,s,r=Ut(e,this),a=6e4*(r.utcOffset()-this.utcOffset());return t=D(t),"year"===t||"month"===t||"quarter"===t?(s=ln(this,r),"quarter"===t?s/=3:"year"===t&&(s/=12)):(i=this-r,s="second"===t?i/1e3:"minute"===t?i/6e4:"hour"===t?i/36e5:"day"===t?(i-a)/864e5:"week"===t?(i-a)/6048e5:i),n?s:an(s)}function ln(e,t){var n,i,s=12*(t.year()-e.year())+(t.month()-e.month()),r=e.clone().add(s,"months");return 0>t-r?(n=e.clone().add(s-1,"months"),i=(t-r)/(r-n)):(n=e.clone().add(s+1,"months"),i=(t-r)/(n-r)),-(s+i)}function un(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function cn(){var e=this.clone().utc();return 0<e.year()&&e.year()<=9999?"function"==typeof Date.prototype.toISOString?this.toDate().toISOString():q(e,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):q(e,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")}function dn(t){var n=q(this,t||e.defaultFormat);return this.localeData().postformat(n)}function hn(e,t){return this.isValid()?Jt({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function fn(e){return this.from(Mt(),e)}function mn(e,t){return this.isValid()?Jt({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function gn(e){return this.to(Mt(),e)}function pn(e){var t;return void 0===e?this._locale._abbr:(t=S(e),null!=t&&(this._locale=t),this)}function _n(){return this._locale}function yn(e){switch(e=D(e)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===e&&this.weekday(0),"isoWeek"===e&&this.isoWeekday(1),"quarter"===e&&this.month(3*Math.floor(this.month()/3)),this}function vn(e){return e=D(e),void 0===e||"millisecond"===e?this:this.startOf(e).add(1,"isoWeek"===e?"week":e).subtract(1,"ms")}function kn(){return+this._d-6e4*(this._offset||0)}function bn(){return Math.floor(+this/1e3)}function wn(){return this._offset?new Date(+this):this._d}function Sn(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]}function Pn(){return c(this)}function Dn(){return a({},u(this))}function Mn(){return u(this).overflow}function Yn(e,t){O(0,[e,e.length],0,t)}function xn(e,t,n){return ot(Mt([e,11,31+t-n]),t,n).week}function Fn(e){var t=ot(this,this.localeData()._week.dow,this.localeData()._week.doy).year;return null==e?t:this.add(e-t,"y")}function Tn(e){var t=ot(this,1,4).year;return null==e?t:this.add(e-t,"y")}function Cn(){return xn(this.year(),1,4)}function On(){var e=this.localeData()._week;return xn(this.year(),e.dow,e.doy)}function Rn(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)}function Un(e,t){if("string"==typeof e)if(isNaN(e)){if(e=t.weekdaysParse(e),"number"!=typeof e)return null}else e=parseInt(e,10);return e}function qn(e){return this._weekdays[e.day()]}function In(e){return this._weekdaysShort[e.day()]}function Gn(e){return this._weekdaysMin[e.day()]}function Wn(e){var t,n,i;for(this._weekdaysParse||(this._weekdaysParse=[]),t=0;7>t;t++)if(this._weekdaysParse[t]||(n=Mt([2e3,1]).day(t),i="^"+this.weekdays(n,"")+"|^"+this.weekdaysShort(n,"")+"|^"+this.weekdaysMin(n,""),this._weekdaysParse[t]=new RegExp(i.replace(".",""),"i")),this._weekdaysParse[t].test(e))return t}function En(e){var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?(e=Un(e,this.localeData()),this.add(e-t,"d")):t}function Ln(e){var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")}function Nn(e){return null==e?this.day()||7:this.day(this.day()%7?e:e-7)}function zn(e,t){O(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}function jn(e,t){return t._meridiemParse}function Hn(e){return"p"===(e+"").toLowerCase().charAt(0)}function An(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"}function Vn(e){O(0,[e,3],0,"millisecond")}function Jn(){return this._isUTC?"UTC":""}function $n(){return this._isUTC?"Coordinated Universal Time":""}function Bn(e){return Mt(1e3*e)}function Zn(){return Mt.apply(null,arguments).parseZone()}function Kn(e,t,n){var i=this._calendar[e];return"function"==typeof i?i.call(t,n):i}function Qn(e){var t=this._longDateFormat[e];return!t&&this._longDateFormat[e.toUpperCase()]&&(t=this._longDateFormat[e.toUpperCase()].replace(/MMMM|MM|DD|dddd/g,function(e){return e.slice(1)}),this._longDateFormat[e]=t),t}function Xn(){return this._invalidDate}function ei(e){return this._ordinal.replace("%d",e)}function ti(e){return e}function ni(e,t,n,i){var s=this._relativeTime[n];return"function"==typeof s?s(e,t,n,i):s.replace(/%d/i,e)}function ii(e,t){var n=this._relativeTime[e>0?"future":"past"];return"function"==typeof n?n(t):n.replace(/%s/i,t)}function si(e){var t,n;for(n in e)t=e[n],"function"==typeof t?this[n]=t:this["_"+n]=t;this._ordinalParseLenient=new RegExp(this._ordinalParse.source+"|"+/\d{1,2}/.source)}function ri(e,t,n,i){var s=S(),r=o().set(i,t);return s[n](r,e)}function ai(e,t,n,i,s){if("number"==typeof e&&(t=e,e=void 0),e=e||"",null!=t)return ri(e,t,n,s);var r,a=[];for(r=0;i>r;r++)a[r]=ri(e,r,n,s);return a}function oi(e,t){return ai(e,t,"months",12,"month")}function li(e,t){return ai(e,t,"monthsShort",12,"month")}function ui(e,t){return ai(e,t,"weekdays",7,"day")}function ci(e,t){return ai(e,t,"weekdaysShort",7,"day")}function di(e,t){return ai(e,t,"weekdaysMin",7,"day")}function hi(){var e=this._data;return this._milliseconds=Hs(this._milliseconds),this._days=Hs(this._days),this._months=Hs(this._months),e.milliseconds=Hs(e.milliseconds),e.seconds=Hs(e.seconds),e.minutes=Hs(e.minutes),e.hours=Hs(e.hours),e.months=Hs(e.months),e.years=Hs(e.years),this}function fi(e,t,n,i){var s=Jt(t,n);return e._milliseconds+=i*s._milliseconds,e._days+=i*s._days,e._months+=i*s._months,e._bubble()}function mi(e,t){return fi(this,e,t,1)}function gi(e,t){return fi(this,e,t,-1)}function pi(){var e,t,n,i=this._milliseconds,s=this._days,r=this._months,a=this._data,o=0;return a.milliseconds=i%1e3,e=an(i/1e3),a.seconds=e%60,t=an(e/60),a.minutes=t%60,n=an(t/60),a.hours=n%24,s+=an(n/24),o=an(_i(s)),s-=an(yi(o)),r+=an(s/30),s%=30,o+=an(r/12),r%=12,a.days=s,a.months=r,a.years=o,this}function _i(e){return 400*e/146097}function yi(e){return 146097*e/400}function vi(e){var t,n,i=this._milliseconds;if(e=D(e),"month"===e||"year"===e)return t=this._days+i/864e5,n=this._months+12*_i(t),"month"===e?n:n/12;switch(t=this._days+Math.round(yi(this._months/12)),e){case"week":return t/7+i/6048e5;case"day":return t+i/864e5;case"hour":return 24*t+i/36e5;case"minute":return 1440*t+i/6e4;case"second":return 86400*t+i/1e3;case"millisecond":return Math.floor(864e5*t)+i;default:throw new Error("Unknown unit "+e)}}function ki(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*g(this._months/12)}function bi(e){return function(){return this.as(e)}}function wi(e){return e=D(e),this[e+"s"]()}function Si(e){return function(){return this._data[e]}}function Pi(){return an(this.days()/7)}function Di(e,t,n,i,s){return s.relativeTime(t||1,!!n,e,i)}function Mi(e,t,n){var i=Jt(e).abs(),s=ar(i.as("s")),r=ar(i.as("m")),a=ar(i.as("h")),o=ar(i.as("d")),l=ar(i.as("M")),u=ar(i.as("y")),c=s<or.s&&["s",s]||1===r&&["m"]||r<or.m&&["mm",r]||1===a&&["h"]||a<or.h&&["hh",a]||1===o&&["d"]||o<or.d&&["dd",o]||1===l&&["M"]||l<or.M&&["MM",l]||1===u&&["y"]||["yy",u];return c[2]=t,c[3]=+e>0,c[4]=n,Di.apply(null,c)}function Yi(e,t){return void 0===or[e]?!1:void 0===t?or[e]:(or[e]=t,!0)}function xi(e){var t=this.localeData(),n=Mi(this,!e,t);return e&&(n=t.pastFuture(+this,n)),t.postformat(n)}function Fi(){var e=lr(this.years()),t=lr(this.months()),n=lr(this.days()),i=lr(this.hours()),s=lr(this.minutes()),r=lr(this.seconds()+this.milliseconds()/1e3),a=this.asSeconds();return a?(0>a?"-":"")+"P"+(e?e+"Y":"")+(t?t+"M":"")+(n?n+"D":"")+(i||s||r?"T":"")+(i?i+"H":"")+(s?s+"M":"")+(r?r+"S":""):"P0D"}var Ti,Ci,Oi=e.momentProperties=[],Ri=!1,Ui={},qi={},Ii=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Q|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,4}|x|X|zz?|ZZ?|.)/g,Gi=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Wi={},Ei={},Li=/\d/,Ni=/\d\d/,zi=/\d{3}/,ji=/\d{4}/,Hi=/[+-]?\d{6}/,Ai=/\d\d?/,Vi=/\d{1,3}/,Ji=/\d{1,4}/,$i=/[+-]?\d{1,6}/,Bi=/\d+/,Zi=/[+-]?\d+/,Ki=/Z|[+-]\d\d:?\d\d/gi,Qi=/[+-]?\d+(\.\d{1,3})?/,Xi=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,es={},ts={},ns=0,is=1,ss=2,rs=3,as=4,os=5,ls=6;O("M",["MM",2],"Mo",function(){return this.month()+1}),O("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)}),O("MMMM",0,0,function(e){return this.localeData().months(this,e)}),P("month","M"),G("M",Ai),G("MM",Ai,Ni),G("MMM",Xi),G("MMMM",Xi),L(["M","MM"],function(e,t){t[is]=g(e)-1}),L(["MMM","MMMM"],function(e,t,n,i){var s=n._locale.monthsParse(e,i,n._strict);null!=s?t[is]=s:u(n).invalidMonth=e});var us="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),cs="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),ds={};e.suppressDeprecationWarnings=!1;var hs=/^\s*(?:[+-]\d{6}|\d{4})-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,fs=[["YYYYYY-MM-DD",/[+-]\d{6}-\d{2}-\d{2}/],["YYYY-MM-DD",/\d{4}-\d{2}-\d{2}/],["GGGG-[W]WW-E",/\d{4}-W\d{2}-\d/],["GGGG-[W]WW",/\d{4}-W\d{2}/],["YYYY-DDD",/\d{4}-\d{3}/]],ms=[["HH:mm:ss.SSSS",/(T| )\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],gs=/^\/?Date\((\-?\d+)/i;e.createFromInputFallback=Q("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to https://github.com/moment/moment/issues/1407 for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))}),O(0,["YY",2],0,function(){return this.year()%100}),O(0,["YYYY",4],0,"year"),O(0,["YYYYY",5],0,"year"),O(0,["YYYYYY",6,!0],0,"year"),P("year","y"),G("Y",Zi),G("YY",Ai,Ni),G("YYYY",Ji,ji),G("YYYYY",$i,Hi),G("YYYYYY",$i,Hi),L(["YYYY","YYYYY","YYYYYY"],ns),L("YY",function(t,n){n[ns]=e.parseTwoDigitYear(t)}),e.parseTwoDigitYear=function(e){return g(e)+(g(e)>68?1900:2e3)};var ps=Y("FullYear",!1);O("w",["ww",2],"wo","week"),O("W",["WW",2],"Wo","isoWeek"),P("week","w"),P("isoWeek","W"),G("w",Ai),G("ww",Ai,Ni),G("W",Ai),G("WW",Ai,Ni),N(["w","ww","W","WW"],function(e,t,n,i){t[i.substr(0,1)]=g(e)});var _s={dow:0,doy:6};O("DDD",["DDDD",3],"DDDo","dayOfYear"),P("dayOfYear","DDD"),G("DDD",Vi),G("DDDD",zi),L(["DDD","DDDD"],function(e,t,n){n._dayOfYear=g(e)}),e.ISO_8601=function(){};var ys=Q("moment().min is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548",function(){var e=Mt.apply(null,arguments);return this>e?this:e}),vs=Q("moment().max is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548",function(){var e=Mt.apply(null,arguments);return e>this?this:e});Ot("Z",":"),Ot("ZZ",""),G("Z",Ki),G("ZZ",Ki),L(["Z","ZZ"],function(e,t,n){n._useUTC=!0,n._tzm=Rt(e)});var ks=/([\+\-]|\d\d)/gi;e.updateOffset=function(){};var bs=/(\-)?(?:(\d*)\.)?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/,ws=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/;Jt.fn=Tt.prototype;var Ss=Kt(1,"add"),Ps=Kt(-1,"subtract");e.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";var Ds=Q("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return void 0===e?this.localeData():this.locale(e)});O(0,["gg",2],0,function(){return this.weekYear()%100}),O(0,["GG",2],0,function(){return this.isoWeekYear()%100}),Yn("gggg","weekYear"),Yn("ggggg","weekYear"),Yn("GGGG","isoWeekYear"),Yn("GGGGG","isoWeekYear"),P("weekYear","gg"),P("isoWeekYear","GG"),G("G",Zi),G("g",Zi),G("GG",Ai,Ni),G("gg",Ai,Ni),G("GGGG",Ji,ji),G("gggg",Ji,ji),G("GGGGG",$i,Hi),G("ggggg",$i,Hi),N(["gggg","ggggg","GGGG","GGGGG"],function(e,t,n,i){t[i.substr(0,2)]=g(e)}),N(["gg","GG"],function(t,n,i,s){n[s]=e.parseTwoDigitYear(t)}),O("Q",0,0,"quarter"),P("quarter","Q"),G("Q",Li),L("Q",function(e,t){t[is]=3*(g(e)-1)}),O("D",["DD",2],"Do","date"),P("date","D"),G("D",Ai),G("DD",Ai,Ni),G("Do",function(e,t){return e?t._ordinalParse:t._ordinalParseLenient}),L(["D","DD"],ss),L("Do",function(e,t){t[ss]=g(e.match(Ai)[0],10)});var Ms=Y("Date",!0);O("d",0,"do","day"),O("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)}),O("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)}),O("dddd",0,0,function(e){return this.localeData().weekdays(this,e)}),O("e",0,0,"weekday"),O("E",0,0,"isoWeekday"),P("day","d"),P("weekday","e"),P("isoWeekday","E"),G("d",Ai),G("e",Ai),G("E",Ai),G("dd",Xi),G("ddd",Xi),G("dddd",Xi),N(["dd","ddd","dddd"],function(e,t,n){var i=n._locale.weekdaysParse(e);null!=i?t.d=i:u(n).invalidWeekday=e}),N(["d","e","E"],function(e,t,n,i){t[i]=g(e)});var Ys="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),xs="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Fs="Su_Mo_Tu_We_Th_Fr_Sa".split("_");O("H",["HH",2],0,"hour"),O("h",["hh",2],0,function(){return this.hours()%12||12}),zn("a",!0),zn("A",!1),P("hour","h"),G("a",jn),G("A",jn),G("H",Ai),G("h",Ai),G("HH",Ai,Ni),G("hh",Ai,Ni),L(["H","HH"],rs),L(["a","A"],function(e,t,n){n._isPm=n._locale.isPM(e),n._meridiem=e}),L(["h","hh"],function(e,t,n){t[rs]=g(e),u(n).bigHour=!0});var Ts=/[ap]\.?m?\.?/i,Cs=Y("Hours",!0);O("m",["mm",2],0,"minute"),P("minute","m"),G("m",Ai),G("mm",Ai,Ni),L(["m","mm"],as);var Os=Y("Minutes",!1);O("s",["ss",2],0,"second"),P("second","s"),G("s",Ai),G("ss",Ai,Ni),L(["s","ss"],os);var Rs=Y("Seconds",!1);O("S",0,0,function(){return~~(this.millisecond()/100)}),O(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),Vn("SSS"),Vn("SSSS"),P("millisecond","ms"),G("S",Vi,Li),G("SS",Vi,Ni),G("SSS",Vi,zi),G("SSSS",Bi),L(["S","SS","SSS","SSSS"],function(e,t){t[ls]=g(1e3*("0."+e))});var Us=Y("Milliseconds",!1);O("z",0,0,"zoneAbbr"),O("zz",0,0,"zoneName");var qs=f.prototype;qs.add=Ss,qs.calendar=Xt,qs.clone=en,qs.diff=on,qs.endOf=vn,qs.format=dn,qs.from=hn,qs.fromNow=fn,qs.to=mn,qs.toNow=gn,qs.get=T,qs.invalidAt=Mn,qs.isAfter=tn,qs.isBefore=nn,qs.isBetween=sn,qs.isSame=rn,qs.isValid=Pn,qs.lang=Ds,qs.locale=pn,qs.localeData=_n,qs.max=vs,qs.min=ys,qs.parsingFlags=Dn,qs.set=T,qs.startOf=yn,qs.subtract=Ps,qs.toArray=Sn,qs.toDate=wn,qs.toISOString=cn,qs.toJSON=cn,qs.toString=un,qs.unix=bn,qs.valueOf=kn,qs.year=ps,qs.isLeapYear=at,qs.weekYear=Fn,qs.isoWeekYear=Tn,qs.quarter=qs.quarters=Rn,qs.month=$,qs.daysInMonth=B,qs.week=qs.weeks=dt,qs.isoWeek=qs.isoWeeks=ht,qs.weeksInYear=On,qs.isoWeeksInYear=Cn,qs.date=Ms,qs.day=qs.days=En,qs.weekday=Ln,qs.isoWeekday=Nn,qs.dayOfYear=mt,qs.hour=qs.hours=Cs,qs.minute=qs.minutes=Os,qs.second=qs.seconds=Rs,qs.millisecond=qs.milliseconds=Us,qs.utcOffset=It,qs.utc=Wt,qs.local=Et,qs.parseZone=Lt,qs.hasAlignedHourOffset=Nt,qs.isDST=zt,qs.isDSTShifted=jt,qs.isLocal=Ht,qs.isUtcOffset=At,qs.isUtc=Vt,qs.isUTC=Vt,qs.zoneAbbr=Jn,qs.zoneName=$n,qs.dates=Q("dates accessor is deprecated. Use date instead.",Ms),qs.months=Q("months accessor is deprecated. Use month instead",$),qs.years=Q("years accessor is deprecated. Use year instead",ps),qs.zone=Q("moment().zone is deprecated, use moment().utcOffset instead. https://github.com/moment/moment/issues/1779",Gt);var Is=qs,Gs={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},Ws={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY LT",LLLL:"dddd, MMMM D, YYYY LT"},Es="Invalid date",Ls="%d",Ns=/\d{1,2}/,zs={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},js=_.prototype;
js._calendar=Gs,js.calendar=Kn,js._longDateFormat=Ws,js.longDateFormat=Qn,js._invalidDate=Es,js.invalidDate=Xn,js._ordinal=Ls,js.ordinal=ei,js._ordinalParse=Ns,js.preparse=ti,js.postformat=ti,js._relativeTime=zs,js.relativeTime=ni,js.pastFuture=ii,js.set=si,js.months=H,js._months=us,js.monthsShort=A,js._monthsShort=cs,js.monthsParse=V,js.week=lt,js._week=_s,js.firstDayOfYear=ct,js.firstDayOfWeek=ut,js.weekdays=qn,js._weekdays=Ys,js.weekdaysMin=Gn,js._weekdaysMin=Fs,js.weekdaysShort=In,js._weekdaysShort=xs,js.weekdaysParse=Wn,js.isPM=Hn,js._meridiemParse=Ts,js.meridiem=An,b("en",{ordinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10,n=1===g(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th";return e+n}}),e.lang=Q("moment.lang is deprecated. Use moment.locale instead.",b),e.langData=Q("moment.langData is deprecated. Use moment.localeData instead.",S);var Hs=Math.abs,As=bi("ms"),Vs=bi("s"),Js=bi("m"),$s=bi("h"),Bs=bi("d"),Zs=bi("w"),Ks=bi("M"),Qs=bi("y"),Xs=Si("milliseconds"),er=Si("seconds"),tr=Si("minutes"),nr=Si("hours"),ir=Si("days"),sr=Si("months"),rr=Si("years"),ar=Math.round,or={s:45,m:45,h:22,d:26,M:11},lr=Math.abs,ur=Tt.prototype;ur.abs=hi,ur.add=mi,ur.subtract=gi,ur.as=vi,ur.asMilliseconds=As,ur.asSeconds=Vs,ur.asMinutes=Js,ur.asHours=$s,ur.asDays=Bs,ur.asWeeks=Zs,ur.asMonths=Ks,ur.asYears=Qs,ur.valueOf=ki,ur._bubble=pi,ur.get=wi,ur.milliseconds=Xs,ur.seconds=er,ur.minutes=tr,ur.hours=nr,ur.days=ir,ur.weeks=Pi,ur.months=sr,ur.years=rr,ur.humanize=xi,ur.toISOString=Fi,ur.toString=Fi,ur.toJSON=Fi,ur.locale=pn,ur.localeData=_n,ur.toIsoString=Q("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Fi),ur.lang=Ds,O("X",0,0,"unix"),O("x",0,0,"valueOf"),G("x",Zi),G("X",Qi),L("X",function(e,t,n){n._d=new Date(1e3*parseFloat(e,10))}),L("x",function(e,t,n){n._d=new Date(g(e))}),e.version="2.10.3",t(Mt),e.fn=Is,e.min=xt,e.max=Ft,e.utc=o,e.unix=Bn,e.months=oi,e.isDate=i,e.locale=b,e.invalid=d,e.duration=Jt,e.isMoment=m,e.weekdays=ui,e.parseZone=Zn,e.localeData=S,e.isDuration=Ct,e.monthsShort=li,e.weekdaysMin=di,e.defineLocale=w,e.weekdaysShort=ci,e.normalizeUnits=D,e.relativeTimeThreshold=Yi;var cr=e;return cr}),RequireJS.define("text",{load:function(e){throw new Error("Dynamic load not allowed: "+e)}}),RequireJS.define("text!common/templates/components/paging-header.underscore",[],function(){return'<% if (!_.isUndefined(srInfo)) { %>\n  <h2 class="sr" id="<%- srInfo.id %>"><%- srInfo.text %></h2>\n<% } %>\n<div class="search-tools listing-tools">\n    <span class="search-count listing-count">\n        <%- message %>\n    </span>\n    <% if (showSortControls) { %>\n      |\n      <span class="field listing-sort">\n          <label class="field-label" for="paging-header-select"><%- gettext("Sorted by") %></label>\n          <select id="paging-header-select" name="paging-header-select" class="field-input input-select listing-sort-select">\n              <% _.each(sortableFields, function (option, key) { %>\n                <option value="<%- key %>" <% if (key === sortOrder) { %> selected="true" <% } %>>\n                  <%- option.displayName %>\n                </option>\n              <% }) %>\n          </select>\n      </span>\n    <% } %>\n</div>\n'}),function(){RequireJS.define("common/js/components/views/paging_header",["backbone","underscore","gettext","edx-ui-toolkit/js/utils/html-utils","edx-ui-toolkit/js/utils/string-utils","text!common/templates/components/paging-header.underscore"],function(e,t,n,i,s,r){var a=e.View.extend({initialize:function(e){this.srInfo=e.srInfo,this.showSortControls=e.showSortControls,this.collection.bind("add",t.bind(this.render,this)),this.collection.bind("remove",t.bind(this.render,this)),this.collection.bind("reset",t.bind(this.render,this))},events:{"change #paging-header-select":"sortCollection"},render:function(){var e,t=(this.collection.getPageNumber()-1)*this.collection.getPageSize(),a=t+this.collection.size(),o=this.collection.getTotalRecords(),l={firstIndex:Math.min(t+1,a),lastIndex:a,numItems:o};return e=1>=a?s.interpolate(n("Showing {firstIndex} out of {numItems} total"),l):s.interpolate(n("Showing {firstIndex}-{lastIndex} out of {numItems} total"),l),i.setHtml(this.$el,i.template(r)({message:e,srInfo:this.srInfo,sortableFields:this.collection.sortableFields,sortOrder:this.sortOrder,showSortControls:this.showSortControls})),this},sortCollection:function(){var e=this.$("#paging-header-select option:selected");return this.sortOrder=e.attr("value"),this.collection.setSortField(this.sortOrder),this.collection.refresh()}});return a})}.call(this,define||RequireJS.define),RequireJS.define("text!common/templates/components/paging-footer.underscore",[],function(){return'<nav class="pagination pagination-full bottom" aria-label="<%= paginationLabel %>">\n    <div class="nav-item previous"><button class="nav-link previous-page-link"><span class="icon fa fa-angle-left" aria-hidden="true"></span> <span class="nav-label"><%= gettext("Previous") %></span></button></div>\n    <div class="nav-item page">\n        <div class="pagination-form">\n            <label class="page-number-label" for="page-number-input"><%= interpolate(\n                    gettext("Page number out of %(total_pages)s"),\n                    {total_pages: total_pages},\n                    true\n                )%></label>\n            <input id="page-number-input" class="page-number-input" name="page-number" type="text" size="4" autocomplete="off" aria-describedby="page-number-input-helper"/>\n            <span class="sr field-helper" id="page-number-input-helper"><%= gettext("Enter the page number you\'d like to quickly navigate to.") %></span>\n        </div>\n\n        <span class="current-page"><%= current_page %></span>\n        <span class="sr">&nbsp;out of&nbsp;</span>\n        <span class="page-divider" aria-hidden="true">/</span>\n        <span class="total-pages"><%= total_pages %></span>\n    </div>\n    <div class="nav-item next"><button class="nav-link next-page-link"><span class="nav-label"><%= gettext("Next") %></span> <span class="icon fa fa-angle-right" aria-hidden="true"></span></button></div>\n</nav>\n'}),function(){RequireJS.define("common/js/components/views/paging_footer",["underscore","gettext","backbone","edx-ui-toolkit/js/utils/html-utils","text!common/templates/components/paging-footer.underscore"],function(e,t,n,i,s){var r=n.View.extend({events:{"click .next-page-link":"nextPage","click .previous-page-link":"previousPage","change .page-number-input":"changePage"},initialize:function(n){this.collection=n.collection,this.hideWhenOnePage=n.hideWhenOnePage||!1,this.paginationLabel=n.paginationLabel||t("Pagination"),this.collection.bind("add",e.bind(this.render,this)),this.collection.bind("remove",e.bind(this.render,this)),this.collection.bind("reset",e.bind(this.render,this))},render:function(){var e=!this.collection.hasPreviousPage(),t=!this.collection.hasNextPage();return this.hideWhenOnePage&&(this.collection.getTotalPages()<=1?this.$el.addClass("hidden"):this.$el.hasClass("hidden")&&this.$el.removeClass("hidden")),i.setHtml(this.$el,i.template(s)({current_page:this.collection.getPageNumber(),total_pages:this.collection.getTotalPages(),paginationLabel:this.paginationLabel})),this.$(".previous-page-link").toggleClass("is-disabled",e).attr("aria-disabled",e),this.$(".next-page-link").toggleClass("is-disabled",t).attr("aria-disabled",t),this},changePage:function(){var e=this.collection,t=e.getPageNumber(),n=this.$("#page-number-input"),i=parseInt(n.val(),10),s=!0;(!i||i>e.getTotalPages()||1>i)&&(s=!1),s&&i!==t&&e.setPage(i),n.val("")},nextPage:function(){this.collection.nextPage()},previousPage:function(){this.collection.previousPage()}});return r})}.call(this,define||RequireJS.define),RequireJS.define("text!templates/bookmarks/bookmarks-list.underscore",[],function(){return'<div id="my-bookmarks" class="sr-is-focusable" tabindex="-1"></div>\n<h2 class="bookmarks-results-header"><%= gettext("My Bookmarks") %></h2>\n\n<% if (bookmarksCollection.length) { %>\n\n    <div class="paging-header"></div>\n\n    <div class=\'bookmarks-results-list\'>\n        <% bookmarksCollection.each(function(bookmark, index) { %>\n             <a class="bookmarks-results-list-item" href="<%= bookmark.blockUrl() %>" aria-labelledby="bookmark-link-<%= index %>" data-bookmark-id="<%= bookmark.get(\'id\') %>" data-component-type="<%= bookmark.get(\'block_type\') %>" data-usage-id="<%= bookmark.get(\'usage_id\') %>" aria-describedby="bookmark-type-<%= index %> bookmark-date-<%= index %>">\n                <div class="list-item-content">\n                    <div class="list-item-left-section">\n                        <h3 id="bookmark-link-<%= index %>" class="list-item-breadcrumbtrail"> <%= _.map(_.pluck(bookmark.get(\'path\'), \'display_name\'), _.escape).concat([_.escape(bookmark.get(\'display_name\'))]).join(\' <span class="icon fa fa-caret-right" aria-hidden="true"></span><span class="sr">-</span> \') %> </h3>\n                        <p id="bookmark-date-<%= index %>" class="list-item-date"> <%= gettext("Bookmarked on") %> <%= humanFriendlyDate(bookmark.get(\'created\')) %> </p>\n                    </div>\n\n                    <p id="bookmark-type-<%= index %>" class="list-item-right-section">\n                        <span aria-hidden="true"><%= gettext("View") %></span>\n                        <span class="icon fa fa-arrow-right" aria-hidden="true"></span>\n                    </p>\n                </div>\n            </a>\n        <% }); %>\n    </div>\n\n    <div class="paging-footer"></div>\n\n<% } else {%>\n\n    <div class="bookmarks-empty">\n        <div class="bookmarks-empty-header">\n            <span class="icon fa fa-bookmark-o bookmarks-empty-header-icon" aria-hidden="true"></span>\n            <%= gettext("You have not bookmarked any courseware pages yet.") %>\n            <br>\n        </div>\n        <div  class="bookmarks-empty-detail">\n            <span class="bookmarks-empty-detail-title">\n                <%= gettext("Use bookmarks to help you easily return to courseware pages. To bookmark a page, select Bookmark in the upper right corner of that page. To see a list of all your bookmarks, select Bookmarks in the upper left corner of any courseware page.") %>\n            </span>\n        </div>\n    </div>\n\n<% } %>\n'}),function(){RequireJS.define("js/bookmarks/views/bookmarks_list",["gettext","jquery","underscore","backbone","logger","moment","edx-ui-toolkit/js/utils/html-utils","common/js/components/views/paging_header","common/js/components/views/paging_footer","text!templates/bookmarks/bookmarks-list.underscore"],function(e,t,n,i,s,r,a,o,l,u){var c=r||window.moment;return i.View.extend({el:".courseware-results",coursewareContentEl:"#course-content",coursewareResultsWrapperEl:".courseware-results-wrapper",errorIcon:'<span class="fa fa-fw fa-exclamation-triangle message-error" aria-hidden="true"></span>',loadingIcon:'<span class="fa fa-fw fa-spinner fa-pulse message-in-progress" aria-hidden="true"></span>',errorMessage:e("An error has occurred. Please try again."),loadingMessage:e("Loading"),defaultPage:1,events:{"click .bookmarks-results-list-item":"visitBookmark"},initialize:function(e){this.template=a.template(u),this.loadingMessageView=e.loadingMessageView,this.errorMessageView=e.errorMessageView,this.langCode=t(this.el).data("langCode"),this.pagingHeaderView=new o({collection:this.collection}),this.pagingFooterView=new l({collection:this.collection}),this.listenTo(this.collection,"page_changed",this.render),n.bindAll(this,"render","humanFriendlyDate")},render:function(){var e={bookmarksCollection:this.collection,humanFriendlyDate:this.humanFriendlyDate};return a.setHtml(this.$el,this.template(e)),this.pagingHeaderView.setElement(this.$(".paging-header")).render(),this.pagingFooterView.setElement(this.$(".paging-footer")).render(),this.delegateEvents(),this},showBookmarks:function(){var e=this;this.hideErrorMessage(),this.showBookmarksContainer(),this.collection.getPage(this.defaultPage).done(function(){e.render(),e.focusBookmarksElement()}).fail(function(){e.showErrorMessage()})},visitBookmark:function(e){var n=t(e.currentTarget),i=n.data("bookmarkId"),r=n.data("usageId"),a=n.data("componentType");s.log("edx.bookmark.accessed",{bookmark_id:i,component_type:a,component_usage_id:r}).always(function(){window.location.href=e.currentTarget.pathname})},humanFriendlyDate:function(e){return c.locale(this.langCode),c(e).format("LL")},areBookmarksVisible:function(){return this.$("#my-bookmarks").is(":visible")},hideBookmarks:function(){this.$el.hide(),t(this.coursewareResultsWrapperEl).hide(),t(this.coursewareContentEl).css("display","table-cell")},showBookmarksContainer:function(){t(this.coursewareContentEl).hide(),this.$el.html(""),this.$el.show(),t(this.coursewareResultsWrapperEl).css("display","table-cell")},showLoadingMessage:function(){this.loadingMessageView.showMessage(this.loadingMessage,this.loadingIcon)},hideLoadingMessage:function(){this.loadingMessageView.hideMessage()},showErrorMessage:function(){this.errorMessageView.showMessage(this.errorMessage,this.errorIcon)},hideErrorMessage:function(){this.errorMessageView.hideMessage()},focusBookmarksElement:function(){this.$("#my-bookmarks").focus()}})})}.call(this,define||RequireJS.define),function(e){if("object"==typeof exports&&"function"==typeof require)module.exports=e(require("underscore"),require("backbone"));else if("function"==typeof define&&define.amd)RequireJS.define("backbone.paginator",["underscore","backbone"],e);else if("undefined"!=typeof _&&"undefined"!=typeof Backbone){var t=Backbone.PageableCollection,n=e(_,Backbone);Backbone.PageableCollection.noConflict=function(){return Backbone.PageableCollection=t,n}}}(function(e,t){function n(t,n){if(!e.isNumber(t)||e.isNaN(t)||!e.isFinite(t)||~~t!==t)throw new TypeError("`"+n+"` must be a finite integer");return t}function i(e){for(var t,n,i,s,r={},a=decodeURIComponent,o=e.split("&"),l=0,u=o.length;u>l;l++){var c=o[l];t=c.split("="),n=t[0],i=t[1],null==i&&(i=!0),n=a(n),i=a(i),s=r[n],m(s)?s.push(i):r[n]=s?[s,i]:i}return r}function s(e,t,n){var i=e._events[t];if(i&&i.length){var s=i[i.length-1],r=s.callback;s.callback=function(){try{r.apply(this,arguments),n()}catch(e){throw e}finally{s.callback=r}}}else n()}var r=e.extend,a=e.omit,o=e.clone,l=e.each,u=e.pick,c=e.contains,d=e.isEmpty,h=e.pairs,f=e.invert,m=e.isArray,g=e.isFunction,p=e.isObject,_=e.keys,y=e.isUndefined,v=Math.ceil,k=Math.floor,b=Math.max,w=t.Collection.prototype,S=/[\s'"]/g,P=/[<>\s'"]/g,D=t.PageableCollection=t.Collection.extend({state:{firstPage:1,lastPage:null,currentPage:null,pageSize:25,totalPages:null,totalRecords:null,sortKey:null,order:-1},mode:"server",queryParams:{currentPage:"page",pageSize:"per_page",totalPages:"total_pages",totalRecords:"total_entries",sortKey:"sort_by",order:"order",directions:{"-1":"asc",1:"desc"}},constructor:function(e,t){w.constructor.apply(this,arguments),t=t||{};var n=this.mode=t.mode||this.mode||M.mode,i=r({},M.queryParams,this.queryParams,t.queryParams||{});i.directions=r({},M.queryParams.directions,this.queryParams.directions,i.directions),this.queryParams=i;var s=this.state=r({},M.state,this.state,t.state);s.currentPage=null==s.currentPage?s.firstPage:s.currentPage,m(e)||(e=e?[e]:[]),e=e.slice(),"server"==n||null!=s.totalRecords||d(e)||(s.totalRecords=e.length),this.switchMode(n,r({fetch:!1,resetState:!1,models:e},t));var a=t.comparator;if(s.sortKey&&!a&&this.setSorting(s.sortKey,s.order,t),"server"!=n){var l=this.fullCollection;a&&t.full&&(this.comparator=null,l.comparator=a),t.full&&l.sort(),d(e)||(this.reset(e,r({silent:!0},t)),this.getPage(s.currentPage),e.splice.apply(e,[0,e.length].concat(this.models)))}this._initState=o(this.state)},_makeFullCollection:function(e,n){var i,s,r,a=["url","model","sync","comparator"],o=this.constructor.prototype,l={};for(i=0,s=a.length;s>i;i++)r=a[i],y(o[r])||(l[r]=o[r]);var u=new(t.Collection.extend(l))(e,n);for(i=0,s=a.length;s>i;i++)r=a[i],this[r]!==o[r]&&(u[r]=this[r]);return u},_makeCollectionEventHandler:function(e,t){return function(n,i,a,u){var c=e._handlers;l(_(c),function(n){var i=c[n];e.off(n,i),t.off(n,i)});var d=o(e.state),h=d.firstPage,f=0===h?d.currentPage:d.currentPage-1,m=d.pageSize,g=f*m,p=g+m;if("add"==n){var k,b,w,S,u=u||{};if(a==t)b=t.indexOf(i),b>=g&&p>b&&(S=e,k=w=b-g);else{k=e.indexOf(i),b=g+k,S=t;var w=y(u.at)?b:u.at+g}if(u.onRemove||(++d.totalRecords,delete u.onRemove),e.state=e._checkState(d),S){S.add(i,r({},u,{at:w}));var P=k>=m?i:!y(u.at)&&p>w&&e.length>m?e.at(m):null;P&&s(a,n,function(){e.remove(P,{onAdd:!0})})}u.silent||e.trigger("pageable:state:change",e.state)}if("remove"==n){if(u.onAdd)delete u.onAdd;else{if(--d.totalRecords){var D=d.totalPages=v(d.totalRecords/m);d.lastPage=0===h?D-1:D||h,d.currentPage>D&&(d.currentPage=d.lastPage)}else d.totalRecords=null,d.totalPages=null;e.state=e._checkState(d);var M,Y=u.index;a==e?((M=t.at(p))?s(e,n,function(){e.push(M,{onRemove:!0})}):!e.length&&d.totalRecords&&e.reset(t.models.slice(g-m,p-m),r({},u,{parse:!1})),t.remove(i)):Y>=g&&p>Y&&((M=t.at(p-1))&&s(e,n,function(){e.push(M,{onRemove:!0})}),e.remove(i),!e.length&&d.totalRecords&&e.reset(t.models.slice(g-m,p-m),r({},u,{parse:!1})))}u.silent||e.trigger("pageable:state:change",e.state)}if("reset"==n){if(u=a,a=i,a==e&&null==u.from&&null==u.to){var x=t.models.slice(0,g),F=t.models.slice(g+e.models.length);t.reset(x.concat(e.models).concat(F),u)}else a==t&&((d.totalRecords=t.models.length)||(d.totalRecords=null,d.totalPages=null),"client"==e.mode&&(h=d.lastPage=d.currentPage=d.firstPage,f=0===h?d.currentPage:d.currentPage-1,g=f*m,p=g+m),e.state=e._checkState(d),e.reset(t.models.slice(g,p),r({},u,{parse:!1})));u.silent||e.trigger("pageable:state:change",e.state)}"sort"==n&&(u=a,a=i,a===t&&e.reset(t.models.slice(g,p),r({},u,{parse:!1}))),l(_(c),function(n){var i=c[n];l([e,t],function(e){e.on(n,i);var t=e._events[n]||[];t.unshift(t.pop())})})}},_checkState:function(e){var t=this.mode,i=this.links,s=e.totalRecords,r=e.pageSize,a=e.currentPage,o=e.firstPage,l=e.totalPages;if(null!=s&&null!=r&&null!=a&&null!=o&&("infinite"==t?i:!0)){if(s=n(s,"totalRecords"),r=n(r,"pageSize"),a=n(a,"currentPage"),o=n(o,"firstPage"),1>r)throw new RangeError("`pageSize` must be >= 1");if(l=e.totalPages=v(s/r),0>o||o>1)throw new RangeError("`firstPage must be 0 or 1`");if(e.lastPage=0===o?b(0,l-1):l||o,"infinite"==t){if(!i[a+""])throw new RangeError("No link found for page "+a)}else if(o>a||l>0&&(o?a>l:a>=l))throw new RangeError("`currentPage` must be firstPage <= currentPage "+(o?"<":"<=")+" totalPages if "+o+"-based. Got "+a+".")}return e},setPageSize:function(e,t){e=n(e,"pageSize"),t=t||{first:!1};var i=this.state,s=v(i.totalRecords/e),o=s?b(i.firstPage,k(s*i.currentPage/i.totalPages)):i.firstPage;return i=this.state=this._checkState(r({},i,{pageSize:e,currentPage:t.first?i.firstPage:o,totalPages:s})),this.getPage(i.currentPage,a(t,["first"]))},switchMode:function(t,n){if(!c(["server","client","infinite"],t))throw new TypeError('`mode` must be one of "server", "client" or "infinite"');n=n||{fetch:!0,resetState:!0};var i=this.state=n.resetState?o(this._initState):this._checkState(r({},this.state));this.mode=t;var s,u=this,d=this.fullCollection,h=this._handlers=this._handlers||{};if("server"==t||d)"server"==t&&d&&(l(_(h),function(e){s=h[e],u.off(e,s),d.off(e,s)}),delete this._handlers,this._fullComparator=d.comparator,delete this.fullCollection);else{d=this._makeFullCollection(n.models||[],n),d.pageableCollection=this,this.fullCollection=d;var f=this._makeCollectionEventHandler(this,d);l(["add","remove","reset","sort"],function(t){h[t]=s=e.bind(f,{},t),u.on(t,s),d.on(t,s)}),d.comparator=this._fullComparator}if("infinite"==t)for(var m=this.links={},g=i.firstPage,p=v(i.totalRecords/i.pageSize),y=0===g?b(0,p-1):p||g,k=i.firstPage;y>=k;k++)m[k]=this.url;else this.links&&delete this.links;return n.silent||this.trigger("pageable:state:change",i),n.fetch?this.fetch(a(n,"fetch","resetState")):this},hasPreviousPage:function(){var e=this.state,t=e.currentPage;return"infinite"!=this.mode?t>e.firstPage:!!this.links[t-1]},hasNextPage:function(){var e=this.state,t=this.state.currentPage;return"infinite"!=this.mode?t<e.lastPage:!!this.links[t+1]},getFirstPage:function(e){return this.getPage("first",e)},getPreviousPage:function(e){return this.getPage("prev",e)},getNextPage:function(e){return this.getPage("next",e)},getLastPage:function(e){return this.getPage("last",e)},getPage:function(e,t){var i=this.mode,s=this.fullCollection;t=t||{fetch:!1};var o=this.state,l=o.firstPage,u=o.currentPage,c=o.lastPage,h=o.pageSize,f=e;switch(e){case"first":f=l;break;case"prev":f=u-1;break;case"next":f=u+1;break;case"last":f=c;break;default:f=n(e,"index")}this.state=this._checkState(r({},o,{currentPage:f})),t.silent||this.trigger("pageable:state:change",this.state),t.from=u,t.to=f;var m=(0===l?f:f-1)*h,g=s&&s.length?s.models.slice(m,m+h):[];return"client"!=i&&("infinite"!=i||d(g))||t.fetch?("infinite"==i&&(t.url=this.links[f]),this.fetch(a(t,"fetch"))):(this.reset(g,a(t,"fetch")),this)},getPageByOffset:function(e,t){if(0>e)throw new RangeError("`offset must be > 0`");e=n(e);var i=k(e/this.state.pageSize);return 0!==this.state.firstPage&&i++,i>this.state.lastPage&&(i=this.state.lastPage),this.getPage(i,t)},sync:function(e,n,i){var s=this;if("infinite"==s.mode){var a=i.success,o=s.state.currentPage;i.success=function(e,t,n){var l=s.links,u=s.parseLinks(e,r({xhr:n},i));u.first&&(l[s.state.firstPage]=u.first),u.prev&&(l[o-1]=u.prev),u.next&&(l[o+1]=u.next),a&&a(e,t,n)}}return(w.sync||t.sync).call(s,e,n,i)},parseLinks:function(e,t){var n={},i=t.xhr.getResponseHeader("Link");if(i){var s=["first","prev","next"];l(i.split(","),function(e){var t=e.split(";"),i=t[0].replace(P,""),r=t.slice(1);l(r,function(e){var t=e.split("="),r=t[0].replace(S,""),a=t[1].replace(S,"");"rel"==r&&c(s,a)&&(n[a]=i)})})}return n},parse:function(e,t){var n=this.parseState(e,o(this.queryParams),o(this.state),t);return n&&(this.state=this._checkState(r({},this.state,n))),this.parseRecords(e,t)},parseState:function(t,n,i){if(t&&2===t.length&&p(t[0])&&m(t[1])){var s=o(i),r=t[0];return l(h(a(n,"directions")),function(t){var n=t[0],i=t[1],a=r[i];y(a)||e.isNull(a)||(s[n]=r[i])}),r.order&&(s.order=1*f(n.directions)[r.order]),s}},parseRecords:function(e){return e&&2===e.length&&p(e[0])&&m(e[1])?e[1]:e},fetch:function(t){t=t||{};var n=this._checkState(this.state),s=this.mode;"infinite"!=s||t.url||(t.url=this.links[n.currentPage]);var o=t.data||{},l=t.url||this.url||"";g(l)&&(l=l.call(this));var c=l.indexOf("?");-1!=c&&(r(o,i(l.slice(c+1))),l=l.slice(0,c)),t.url=l,t.data=o;var d="client"==this.mode?u(this.queryParams,"sortKey","order"):a(u(this.queryParams,_(M.queryParams)),"directions"),f=e.clone(this);e.each(d,function(t,i){t=g(t)?t.call(f):t,null!=n[i]&&null!=t&&e.isUndefined(o[t])&&(o[t]=n[i])},this);var p;if(n.sortKey&&n.order){var v=g(d.order)?d.order.call(f):d.order;if(m(n.order))for(o[v]=[],p=0;p<n.order.length;p+=1)o[v].push(this.queryParams.directions[n.order[p]]);else o[v]=this.queryParams.directions[n.order+""]}else n.sortKey||delete o[d.order];var k,b,S=h(a(this.queryParams,_(M.queryParams)));for(p=0;p<S.length;p++)k=S[p],b=k[1],b=g(b)?b.call(f):b,null!=b&&(o[k[0]]=b);if("server"!=s){var P=this,D=this.fullCollection,Y=t.success;return t.success=function(e,n,i){i=i||{},y(t.silent)?delete i.silent:i.silent=t.silent;var a=e.models;"client"==s?D.reset(a,i):(D.add(a,r({at:D.length},r(i,{parse:!1}))),P.trigger("reset",P,i)),Y&&Y(e,n,i)},w.fetch.call(this,r({},t,{silent:!0}))}return w.fetch.call(this,t)},_makeComparator:function(e,t,n){var i=this.state;return e=e||i.sortKey,t=t||i.order,e&&t?(n||(n=function(e,t){return e.get(t)}),function(i,s){var r,a=n(i,e),o=n(s,e);return 1===t&&(r=a,a=o,o=r),a===o?0:o>a?-1:1}):void 0},setSorting:function(e,t,n){var i=this.state;i.sortKey=e,i.order=t=t||i.order;var s=this.fullCollection,a=!1,o=!1;e||(a=o=!0);var l=this.mode;n=r({side:"client"==l?l:"server",full:!0},n);var u=this._makeComparator(e,t,n.sortValue),c=n.full,d=n.side;return"client"==d?c?(s&&(s.comparator=u),a=!0):(this.comparator=u,o=!0):"server"!=d||c||(this.comparator=u),a&&(this.comparator=null),o&&s&&(s.comparator=null),this}}),M=D.prototype;return D}),function(){RequireJS.define("edx-ui-toolkit/js/pagination/paging-collection",["jquery","underscore","backbone.paginator"],function(e,t,n){var i=n.extend({mode:"server",isStale:!1,sortableFields:{},filterableFields:{},state:{firstPage:1,pageSize:10,sortKey:null},queryParams:{currentPage:"page",pageSize:"page_size",totalRecords:"count",totalPages:"num_pages",sortKey:"order_by",order:"sort_order"},constructor:function(e,s){this.state=t.extend({},i.prototype.state,this.state),this.queryParams=t.extend({},i.prototype.queryParams,this.queryParams),n.prototype.constructor.call(this,e,s)},initialize:function(e,t){this.sortableFields={},this.filterableFields={},n.prototype.initialize.call(this,e,t)},parse:function(e,i){var s=[];return s.push(t.omit(e,"results")),s.push(e.results),n.prototype.parse.call(this,s,i)},getPageNumber:function(){return this.state.currentPage+(1-this.state.firstPage)},getTotalPages:function(){return this.state.totalPages},getTotalRecords:function(){return this.state.totalRecords},getPageSize:function(){return this.state.pageSize},setPage:function(t){var n=this.state.currentPage,i=this,s=e.Deferred();return this.getPage(t-(1-this.state.firstPage),{reset:!0}).then(function(){i.isStale=!1,i.trigger("page_changed"),s.resolve()},function(){i.state.currentPage=n,s.fail()}),s.promise()},refresh:function(){var t=e.Deferred();return this.isStale?this.setPage(1).done(function(){t.resolve()}):t.resolve(),t.promise()},hasNextPage:function(){return this.getPageNumber()<this.state.totalPages},hasPreviousPage:function(){return this.getPageNumber()>1},nextPage:function(){this.hasNextPage()&&this.setPage(this.getPageNumber()+1)},previousPage:function(){this.hasPreviousPage()&&this.setPage(this.getPageNumber()-1)},registerSortableField:function(e,t){this.addField(this.sortableFields,e,t)},registerFilterableField:function(e,t){this.addField(this.filterableFields,e,t)},addField:function(e,t,n){e[t]={displayName:n}},sortDisplayName:function(){return this.state.sortKey?this.sortableFields[this.state.sortKey].displayName:""},filterDisplayName:function(e){return t.isUndefined(this.filterableFields[e])?"":this.filterableFields[e].displayName},setSortField:function(e,t){var n=t?0-this.state.order:this.state.order;(e!==this.state.sortKey||t)&&(this.setSorting(e,n),this.isStale=!0)},sortDirection:function(){return-1===this.state.order?i.SortDirection.ASCENDING:i.SortDirection.DESCENDING},setSortDirection:function(e){var t=this.state.order,n=t;e===i.SortDirection.ASCENDING?n=-1:e===i.SortDirection.DESCENDING&&(n=1),n!==t&&(this.setSorting(this.state.sortKey,n),this.isStale=!0)},flipSortDirection:function(){this.setSorting(this.state.sortKey,0-this.state.order),this.isStale=!0},hasRegisteredFilterField:function(e){return t.has(this.filterableFields,e)&&!t.isUndefined(this.filterableFields[e].displayName)},hasSetFilterField:function(e){return t.has(this.filterableFields,e)&&!t.isNull(this.filterableFields[e].value)},getActiveFilterFields:function(e){var n=t.chain(this.filterableFields).pick(function(e){return!t.isNull(e.value)&&!t.isUndefined(e.value)}).mapObject(function(e){return e.value});return e||(n=n.omit(i.DefaultSearchKey)),n.value()},getFilterFieldValue:function(e){var n=this.getActiveFilterFields(!0)[e];return t.isNull(n)||t.isUndefined(n)?null:n},setFilterField:function(e,n){var i;this.hasRegisteredFilterField(e)||this.registerFilterableField(e,""),this.filterableFields[e].value=n,i=t.isArray(n)?n.join(","):n,this.queryParams[e]=function(){return i||null},this.isStale=!0},unsetFilterField:function(e){this.hasSetFilterField(e)&&this.setFilterField(e,null)},unsetAllFilterFields:function(){t.each(t.keys(this.filterableFields),t.bind(this.unsetFilterField,this))},getSearchString:function(){return this.getFilterFieldValue(i.DefaultSearchKey)},hasActiveSearch:function(){var e=this.getSearchString();return!t.isNull(e)&&""!==e},setSearchString:function(e){e!==this.getSearchString()&&this.setFilterField(i.DefaultSearchKey,e)},unsetSearchString:function(){this.unsetFilterField(i.DefaultSearchKey)}},{DefaultSearchKey:"text_search",SortDirection:{ASCENDING:"asc",DESCENDING:"desc"}});return i})}.call(this,"function"==typeof RequireJS.define&&RequireJS.define.amd?RequireJS.define:RequireJS.define),function(){RequireJS.define("js/bookmarks/models/bookmark",["backbone"],function(e){return e.Model.extend({idAttribute:"id",defaults:{course_id:"",usage_id:"",display_name:"",path:[],created:""},blockUrl:function(){return"/courses/"+this.get("course_id")+"/jump_to/"+this.get("usage_id")}})})}(define||RequireJS.define),function(){RequireJS.define("js/bookmarks/collections/bookmarks",["backbone","edx-ui-toolkit/js/pagination/paging-collection","js/bookmarks/models/bookmark"],function(e,t,n){return t.extend({model:n,queryParams:{course_id:function(){return this.options.course_id},fields:function(){return"display_name,path"}},url:function(){return this.url},constructor:function(e,n){this.options=n,this.url=n.url,t.prototype.constructor.call(this,e,n)}})})}(define||RequireJS.define),RequireJS.define("text!templates/fields/message_banner.underscore",[],function(){return'<div class="wrapper-msg urgency-<%= urgency %> <%= type %>">\n    <div class="msg">\n        <div class="msg-content">\n            <div class="copy">\n                <p><%-message%></p>\n            </div>\n        </div>\n    </div>\n</div>\n'}),function(){RequireJS.define("js/views/message_banner",["gettext","jquery","underscore","backbone","text!templates/fields/message_banner.underscore"],function(e,t,n,i,s){var r=i.View.extend({initialize:function(e){n.isUndefined(e)&&(e={}),this.options=n.defaults(e,{urgency:"high",type:""})},render:function(){return this.$el.html(n.isUndefined(this.message)||n.isNull(this.message)?"":n.template(s)(n.extend(this.options,{message:this.message}))),this},showMessage:function(e){this.message=e,this.render()},hideMessage:function(){this.message=null,this.render()}});return r})}.call(this,define||RequireJS.define),function(){RequireJS.define("js/bookmarks/views/bookmarks_list_button",["gettext","jquery","underscore","backbone","js/bookmarks/views/bookmarks_list","js/bookmarks/collections/bookmarks","js/views/message_banner"],function(e,t,n,i,s,r,a){return i.View.extend({el:".courseware-bookmarks-button",loadingMessageElement:"#loading-message",errorMessageElement:"#error-message",events:{"click .bookmarks-list-button":"toggleBookmarksListView"},initialize:function(){var e=new r([],{course_id:t(".courseware-results").data("courseId"),url:t(".courseware-bookmarks-button").data("bookmarksApiUrl")});this.bookmarksListView=new s({collection:e,loadingMessageView:new a({el:t(this.loadingMessageElement)}),errorMessageView:new a({el:t(this.errorMessageElement)})})},toggleBookmarksListView:function(){this.bookmarksListView.areBookmarksVisible()?(this.bookmarksListView.hideBookmarks(),this.$(".bookmarks-list-button").attr("aria-pressed","false"),this.$(".bookmarks-list-button").removeClass("is-active").addClass("is-inactive")):(this.bookmarksListView.showBookmarks(),this.$(".bookmarks-list-button").attr("aria-pressed","true"),this.$(".bookmarks-list-button").removeClass("is-inactive").addClass("is-active"))}})})}.call(this,define||RequireJS.define),function(){RequireJS.define("js/courseware/courseware_factory",["jquery","logger","js/bookmarks/views/bookmarks_list_button"],function(e,t,n){return function(){e('a:not([href^="#"])').click(function(e){t.log("edx.ui.lms.link_clicked",{current_url:window.location.href,target_url:e.currentTarget.href})}),new n}})}.call(this,define||RequireJS.define);